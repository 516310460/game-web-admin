var e,t,o=Object.defineProperty,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t,o)=>new Promise(((r,a)=>{var n=e=>{try{l(o.next(e))}catch(t){a(t)}},i=e=>{try{l(o.throw(e))}catch(t){a(t)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(n,i);l((o=o.apply(e,t)).next())}));import{_ as s,b as d}from"./useModal.1e927a40.js";import{e as m}from"./BasicForm.dbc54f8f.js";import{u}from"./useForm.a1fbfd4e.js";import{a2 as c,bk as p,k as f,r as b,f as M,u as g,L as I,o as v,q as y,R as k,s as h,O as x}from"./vendor.c2cc062a.js";/* empty css              */import{aA as P}from"./index.9345068b.js";(t=e||(e={})).GetMainNetWorkPage="/admin/room/findAll",t.AddMainNetWork="/admin/room/addRoom",t.GetMainNetWork="/Manager/CcMainNetwork/GetMainNetWork",t.UpdateMainNetWork="/admin/room/updRoom",t.DeleteMainNetWork="/admin/room/delRoom";const j=t=>P.post({url:e.GetMainNetWorkPage,params:t});function N(t,o="modal"){return P.post({url:e.DeleteMainNetWork,params:t},{errorMessageMode:o})}const O=[{title:"ID",dataIndex:"id"},{title:"游戏大厅序号",dataIndex:"roomIndex"},{title:"名称",dataIndex:"name"},{title:"保险仓",dataIndex:"insurePool"},{title:"奖金池",dataIndex:"prizePool"},{title:"闯关名称",dataIndex:"title"},{title:"状态",dataIndex:"state",customRender:({record:e})=>{const t=e.state;return c(p,{color:1===t?"green":"red"},(()=>"启用"))}}],W=[{field:"id",label:"ID",component:"Input",required:!1,show:!1},{field:"roomIndex",label:"游戏大厅序号",component:"Input",required:!0},{field:"title",label:"闯关标题",component:"Input",required:!0},{field:"name",label:"名称",component:"Input",required:!0},{field:"prizePool",label:"奖金池",component:"Input",required:!0},{field:"insurePool",label:"保险仓",component:"Input",required:!0},{field:"state",label:"状态",component:"Select",required:!0,componentProps:{options:[{label:"停用",value:0},{label:"启用",value:1}]}}];var R=f({name:"ManagementModal",components:{BasicModal:s,BasicForm:m},emits:["success","register"],setup(t,{emit:o}){const s=b(!0),[m,{setFieldsValue:c,updateSchema:p,resetFields:f,validate:I}]=u({labelWidth:140,schemas:W,showActionButtonGroup:!1,actionColOptions:{span:23}}),[v,{setModalProps:y,closeModal:k}]=d((e=>l(this,null,(function*(){f(),y({confirmLoading:!1}),s.value=!!(null==e?void 0:e.isUpdate),g(s)&&c(((e,t)=>{for(var o in t||(t={}))a.call(t,o)&&i(e,o,t[o]);if(r)for(var o of r(t))n.call(t,o)&&i(e,o,t[o]);return e})({},e.record))}))));return{registerModal:v,registerForm:m,getTitle:M((()=>g(s)?"编辑游戏大厅":"新增游戏大厅")),handleSubmit:function(){return l(this,null,(function*(){try{const t=yield I();y({confirmLoading:!0}),t.id?yield function(t,o="modal"){return P.post({url:e.UpdateMainNetWork,params:t},{errorMessageMode:o})}(t):yield function(t,o="modal"){return P.post({url:e.AddMainNetWork,params:t},{errorMessageMode:o})}(t),k(),o("success")}finally{y({confirmLoading:!1})}}))}}}});R.render=function(e,t,o,r,a,n){const i=I("BasicForm"),l=I("BasicModal");return v(),y(l,x(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,onOk:e.handleSubmit}),{default:k((()=>[h(i,{onRegister:e.registerForm},null,8,["onRegister"])])),_:1},16,["onRegister","title","onOk"])};var q=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:R});export{N as D,j as G,q as M,R as _,O as c};
