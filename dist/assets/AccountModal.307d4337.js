var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,s=(e,t,a)=>new Promise(((o,r)=>{var s=e=>{try{n(a.next(e))}catch(t){r(t)}},l=e=>{try{n(a.throw(e))}catch(t){r(t)}},n=e=>e.done?o(e.value):Promise.resolve(e.value).then(s,l);n((a=a.apply(e,t)).next())}));import{_ as l,b as n}from"./useModal.02fd9148.js";import{e as i}from"./BasicForm.d607c7a3.js";import{u as c}from"./useForm.a3e29c9f.js";import{a2 as d,bk as u,k as m,r as p,f,u as b,L as g,o as v,q as y,R as h,s as j,O}from"./vendor.c2cc062a.js";/* empty css              */import{G as I}from"./system.05a9827e.js";const x=[{title:"ID",dataIndex:"id"},{title:"用户名",dataIndex:"userName"},{title:"角色名称",dataIndex:"nickName"},{title:"状态",dataIndex:"state",customRender:({record:e})=>{const t="normal"==e.state?"green":"red",a="normal"==e.state?"正常":"locked"==e.state?"锁定":"暂停提币";return d(u,{color:t},(()=>a))}},{title:"创建时间",dataIndex:"createTime"}],M=[{field:"userName",label:"用户名",component:"Input",colProps:{span:8}}],F=[{field:"id",label:"id",component:"Input",required:!1,show:!1},{label:"状态",field:"state",required:!0,component:"Select",defaultValue:"normal",componentProps:{options:[{label:"正常",value:"normal"},{label:"锁定",value:"locked"},{label:"暂停提币",value:"forbid"}]}}];var P=m({name:"AccountModal",components:{BasicModal:l,BasicForm:i},emits:["success","register"],setup(e,{emit:l}){const i=p(!0),[d,{setFieldsValue:u,updateSchema:m,resetFields:g,validate:v}]=c({labelWidth:100,schemas:F,showActionButtonGroup:!1,actionColOptions:{span:23}}),[y,{setModalProps:h,closeModal:j}]=n((e=>s(this,null,(function*(){g(),h({confirmLoading:!1}),i.value=!!(null==e?void 0:e.isUpdate),b(i)&&u(((e,s)=>{for(var l in s||(s={}))a.call(s,l)&&r(e,l,s[l]);if(t)for(var l of t(s))o.call(s,l)&&r(e,l,s[l]);return e})({},e.record))}))));return{registerModal:y,registerForm:d,getTitle:f((()=>b(i)?"编辑用户":"新增用户")),handleSubmit:function(){return s(this,null,(function*(){try{const e=yield v();h({confirmLoading:!0}),yield I({userId:e.id,state:e.state}),j(),l("success")}finally{h({confirmLoading:!1})}}))}}}});P.render=function(e,t,a,o,r,s){const l=g("BasicForm"),n=g("BasicModal");return v(),y(n,O(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,onOk:e.handleSubmit}),{default:h((()=>[j(l,{onRegister:e.registerForm},null,8,["onRegister"])])),_:1},16,["onRegister","title","onOk"])};var k=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:P});export{k as A,P as _,x as c,M as s};
