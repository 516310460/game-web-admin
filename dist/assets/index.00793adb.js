import e from"./CurrentPermissionMode.8829706f.js";import{aj as s,f as o,V as t,b0 as n,b1 as a}from"./index.da4646fd.js";import{_ as r}from"./PageWrapper.64ff3bf6.js";import{k as i,bJ as c,f as d,l as m,n as f,L as u,o as l,q as p,y as k,s as b,Z as P}from"./vendor.c2cc062a.js";/* empty css              *//* empty css              */import"./usePageContext.85829ca5.js";/* empty css              *//* empty css              */import"./onMountedOrActivated.5a05012f.js";var j=i({components:{Alert:c,CurrentPermissionMode:e,PageWrapper:r},setup(){const{refreshMenu:e}=s(),r=o(),i=t(),c=d((()=>i.getProjectConfig.permissionMode===a.BACK));return{RoleEnum:n,refreshMenu:e,switchToken:function(s){return o=this,t=null,n=function*(){const o="fakeToken"+s;r.setToken(o),r.getUserInfoAction(),e()},new Promise(((e,s)=>{var a=e=>{try{i(n.next(e))}catch(o){s(o)}},r=e=>{try{i(n.throw(e))}catch(o){s(o)}},i=s=>s.done?e(s.value):Promise.resolve(s.value).then(a,r);i((n=n.apply(o,t)).next())}));var o,t,n},isBackPremissionMode:c}}});const h=k();m("data-v-4cc77088");const v={class:"mt-4"},g=P(" 权限切换(请先切换权限模式为后台权限模式): "),M=P(" 获取用户id为1的菜单 "),x=P(" 获取用户id为2的菜单 ");f();const C=h(((e,s,o,t,n,a)=>{const r=u("CurrentPermissionMode"),i=u("Alert"),c=u("a-button"),d=u("a-button-group"),m=u("PageWrapper");return l(),p(m,{title:"后台权限示例",contentBackground:"",contentClass:"p-4",content:"目前mock了两组数据， id为1 和 2 具体返回的菜单可以在mock/sys/menu.ts内查看"},{default:h((()=>[b(r),b(i,{class:"mt-4",type:"info",message:"点击后请查看左侧菜单变化","show-icon":""}),b("div",v,[g,b(d,null,{default:h((()=>[b(c,{onClick:s[1]||(s[1]=s=>e.switchToken(1)),disabled:!e.isBackPremissionMode},{default:h((()=>[M])),_:1},8,["disabled"]),b(c,{onClick:s[2]||(s[2]=s=>e.switchToken(2)),disabled:!e.isBackPremissionMode},{default:h((()=>[x])),_:1},8,["disabled"])])),_:1})])])),_:1})}));j.render=C,j.__scopeId="data-v-4cc77088";export default j;
