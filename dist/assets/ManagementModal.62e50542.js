var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,n=(e,t,a)=>new Promise(((r,o)=>{var n=e=>{try{i(a.next(e))}catch(t){o(t)}},l=e=>{try{i(a.throw(e))}catch(t){o(t)}},i=e=>e.done?r(e.value):Promise.resolve(e.value).then(n,l);i((a=a.apply(e,t)).next())}));import{_ as l,b as i}from"./useModal.735ea034.js";import{e as s}from"./BasicForm.c38a0cc7.js";import{u as d}from"./useForm.266127a6.js";import{a2 as c,bk as u,k as m,r as p,u as f,f as b,L as g,o as v,q as y,R as I,s as h,O as x}from"./vendor.c2cc062a.js";/* empty css              */import{U as j,A as M}from"./CcTradePair.85965330.js";const O=[{title:"ID",dataIndex:"id"},{title:"用户名",dataIndex:"userName"},{title:"币种名称",dataIndex:"coinName"},{title:"流水类型",dataIndex:"flowingTypeStr"},{title:"流水动向",dataIndex:"flowingStatus",customRender:({record:e})=>{const t=e.flowingStatus,a=1===t?"收入":"支出";return c(u,{color:1===t?"green":"red"},(()=>a))}},{title:"发生金额",dataIndex:"changeAmount"},{title:"变动前余额",dataIndex:"balanceBefore"},{title:"变动后余额",dataIndex:"balanceAfter"},{title:"创建时间",dataIndex:"createTime"},{title:"流水备注",dataIndex:"remarkremark"}],w=[{field:"id",label:"ID",component:"Input",required:!1,show:!1},{field:"price",label:"矿机名称",component:"Input",required:!0},{field:"ghs",label:"矿机总价格",component:"Input",required:!0},{field:"rate",label:"回报倍数",component:"Input",required:!0},{field:"state",label:"交易对状态",component:"Select",required:!0,componentProps:{options:[{label:"已下架",value:0},{label:"抢购中",value:1},{label:"待上架",value:2}]}}];var S=m({name:"ManagementModal",components:{BasicModal:l,BasicForm:s},emits:["success","register"],setup(e,{emit:l}){const s=p(!0),[c,{setFieldsValue:u,updateSchema:m,resetFields:g,validate:v}]=d({labelWidth:140,schemas:w,showActionButtonGroup:!1,actionColOptions:{span:23}}),[y,{setModalProps:I,closeModal:h}]=i((e=>n(this,null,(function*(){g(),I({confirmLoading:!1}),s.value=!!(null==e?void 0:e.isUpdate),f(s)&&u(((e,n)=>{for(var l in n||(n={}))a.call(n,l)&&o(e,l,n[l]);if(t)for(var l of t(n))r.call(n,l)&&o(e,l,n[l]);return e})({},e.record))}))));return{registerModal:y,registerForm:c,getTitle:b((()=>f(s)?"编辑矿机":"新增矿机")),handleSubmit:function(){return n(this,null,(function*(){try{const e=yield v();I({confirmLoading:!0}),e.id?yield j(e):yield M(e),h(),l("success")}finally{I({confirmLoading:!1})}}))}}}});S.render=function(e,t,a,r,o,n){const l=g("BasicForm"),i=g("BasicModal");return v(),y(i,x(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,onOk:e.handleSubmit}),{default:I((()=>[h(l,{onRegister:e.registerForm},null,8,["onRegister"])])),_:1},16,["onRegister","title","onOk"])};var F=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:S});export{F as M,S as _,O as c};
