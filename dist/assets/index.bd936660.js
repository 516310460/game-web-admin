import{C as e,p as o,c as t,d as a,Q as r,f as s,o as n}from"./index.e2f8dfb6.js";import{k as l,av as c,aw as i,f as d,L as u,o as f,q as m,s as p,R as g,Y as k,x as h,W as x}from"./vendor.c2cc062a.js";import{D as v}from"./siteSetting.c485f07c.js";import{u as _}from"./useModal.df8770e7.js";import{h as w}from"./header.d801b988.js";import{c as y}from"./createAsyncComponent.f88b6da5.js";import"./useWindowSizeFn.f7fa6c6d.js";var C=l({name:"UserDropdown",components:{Dropdown:c,Menu:i,MenuItem:y((()=>e((()=>import("./DropMenuItem.3defe8f1.js")),["/assets/DropMenuItem.3defe8f1.js","/assets/vendor.c2cc062a.js","/assets/vendor.2c04f79c.css","/assets/index.e2f8dfb6.js","/assets/index.c383077c.css"]))),MenuDivider:i.Divider,LockAction:y((()=>e((()=>import("./LockModal.0f8d228f.js")),["/assets/LockModal.0f8d228f.js","/assets/LockModal.3de92e4a.css","/assets/index.ff0ad01a.css","/assets/index.0edc9df2.css","/assets/index.64a2f3d8.css","/assets/index.e0bc003a.css","/assets/index.1fe4ffb9.css","/assets/index.0840187f.css","/assets/index.5224a97a.css","/assets/index.13a891d2.css","/assets/index.806a5ddb.css","/assets/index.6d85b653.css","/assets/index.e2f8dfb6.js","/assets/index.c383077c.css","/assets/vendor.c2cc062a.js","/assets/vendor.2c04f79c.css","/assets/useModal.df8770e7.js","/assets/useModal.b1a1b797.css","/assets/useWindowSizeFn.f7fa6c6d.js","/assets/BasicForm.15159022.js","/assets/BasicForm.0306312a.css","/assets/CountdownInput.d437ddc4.js","/assets/CountdownInput.05ee5bdd.css","/assets/uuid.2b29000c.js","/assets/download.bc82a2de.js","/assets/StrengthMeter.48e5d163.js","/assets/StrengthMeter.1b49b633.css","/assets/useForm.096e68f4.js","/assets/lock.2f5525ad.js","/assets/header.d801b988.js"])))},props:{theme:o.oneOf(["dark","light"])},setup(){const{prefixCls:e}=t("header-user-dropdown"),{t:o}=a(),{getShowDoc:l,getUseLockPage:c}=r(),i=s(),u=d((()=>{const{realName:e="",avatar:o,userName:t="",desc:a}=i.getUserInfo||{};return{realName:e,userName:t,avatar:o||w,desc:a}})),[f,{openModal:m}]=_();return{prefixCls:e,t:o,getUserInfo:u,handleMenuClick:function(e){return o=this,t=null,a=function*(){switch(e.key){case"logout":i.confirmLoginOut();break;case"doc":n(v);break;case"lock":m(!0)}},new Promise(((r,s)=>{var n=o=>{try{c(a.next(o))}catch(e){s(e)}},l=o=>{try{c(a.throw(o))}catch(e){s(e)}},c=e=>e.done?r(e.value):Promise.resolve(e.value).then(n,l);c((a=a.apply(o,t)).next())}));var o,t,a},getShowDoc:l,register:f,getUseLockPage:c}}});C.render=function(e,o,t,a,r,s){const n=u("MenuItem"),l=u("MenuDivider"),c=u("Menu"),i=u("Dropdown"),d=u("LockAction");return f(),m(x,null,[p(i,{placement:"bottomLeft",overlayClassName:`${e.prefixCls}-dropdown-overlay`},{overlay:g((()=>[p(c,{onClick:e.handleMenuClick},{default:g((()=>[e.getShowDoc?(f(),m(n,{key:"doc",text:e.t("layout.header.dropdownItemDoc"),icon:"ion:document-text-outline"},null,8,["text"])):k("",!0),e.getShowDoc?(f(),m(l,{key:1})):k("",!0),e.getUseLockPage?(f(),m(n,{key:"lock",text:e.t("layout.header.tooltipLock"),icon:"ion:lock-closed-outline"},null,8,["text"])):k("",!0),p(n,{key:"logout",text:e.t("layout.header.dropdownItemLoginOut"),icon:"ion:power-outline"},null,8,["text"])])),_:1},8,["onClick"])])),default:g((()=>[p("span",{class:[[e.prefixCls,`${e.prefixCls}--${e.theme}`],"flex"]},[p("img",{class:`${e.prefixCls}__header`,src:e.getUserInfo.avatar},null,10,["src"]),p("span",{class:`${e.prefixCls}__info hidden md:block`},[p("span",{class:[`${e.prefixCls}__name  `,"truncate"]},h(e.getUserInfo.userName),3)],2)],2)])),_:1},8,["overlayClassName"]),p(d,{onRegister:e.register},null,8,["onRegister"])],64)};export default C;
