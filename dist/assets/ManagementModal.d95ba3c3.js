var e=Object.defineProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,n=(e,t,r)=>new Promise(((a,o)=>{var n=e=>{try{l(r.next(e))}catch(t){o(t)}},i=e=>{try{l(r.throw(e))}catch(t){o(t)}},l=e=>e.done?a(e.value):Promise.resolve(e.value).then(n,i);l((r=r.apply(e,t)).next())}));import{_ as i,b as l}from"./useModal.358fc689.js";import{e as s}from"./BasicForm.18e1e5ca.js";import{u as d}from"./useForm.0814b38b.js";import{aA as u}from"./index.14da3ba2.js";import{k as c,r as m,u as p,f,L as M,o as g,q as b,R as v,s as y,O as h}from"./vendor.c2cc062a.js";const I=[{title:"ID",dataIndex:"id"},{title:"级别等级",dataIndex:"level"},{title:"直推升级条件：直推有效账户数",dataIndex:"upgrade"},{title:"小区业绩满足多少U",dataIndex:"community"},{title:"团队收益提成比例：百分比",dataIndex:"gprofit"},{title:"平级奖励比例：百分比",dataIndex:"lprofit"},{title:"收益层级代数",dataIndex:"hierarchy"}],C=[{field:"id",label:"ID",component:"Input",required:!1,show:!1},{field:"level",label:"级别等级",component:"Input",required:!0},{field:"upgrade",label:"直推升级条件：直推有效账户数",component:"Input",required:!0},{field:"community",label:"小区业绩满足多少U",component:"Input",required:!0},{field:"gprofit",label:"团队收益提成比例：百分比",component:"Input",required:!0},{field:"lprofit",label:"平级奖励比例：百分比",component:"Input",required:!0},{field:"hierarchy",label:"收益层级代数",component:"Input",required:!0}];var k,L;(L=k||(k={})).CcMarketCoinList="/admin/userLevel/findAll",L.GetMarketCoin="/admin/CcMarketCoin/findById",L.AddMarketCoin="/admin/userLevel/addUserLevel",L.UpdateMarketCoin="/admin/userLevel/updUserLevel",L.DeleteMarketCoin="/admin/userLevel/delUserLevel";const x=e=>u.post({url:k.CcMarketCoinList});function O(e,t="modal"){return u.post({url:k.DeleteMarketCoin,params:e},{errorMessageMode:t})}var j=c({name:"ManagementModal",components:{BasicModal:i,BasicForm:s},emits:["success","register"],setup(e,{emit:i}){const s=m(!0),[c,{setFieldsValue:M,updateSchema:g,resetFields:b,validate:v}]=d({labelWidth:220,schemas:C,showActionButtonGroup:!1,actionColOptions:{span:23}}),[y,{setModalProps:h,closeModal:I}]=l((e=>n(this,null,(function*(){b(),h({confirmLoading:!1}),s.value=!!(null==e?void 0:e.isUpdate),p(s)&&M(((e,n)=>{for(var i in n||(n={}))r.call(n,i)&&o(e,i,n[i]);if(t)for(var i of t(n))a.call(n,i)&&o(e,i,n[i]);return e})({},e.record))}))));return{registerModal:y,registerForm:c,getTitle:f((()=>p(s)?"编辑游戏大厅":"新增游戏大厅")),handleSubmit:function(){return n(this,null,(function*(){try{const e=yield v();h({confirmLoading:!0}),e.id?yield function(e,t="modal"){return u.post({url:k.UpdateMarketCoin,params:e},{errorMessageMode:t})}(e):yield function(e,t="modal"){return u.post({url:k.AddMarketCoin,params:e},{errorMessageMode:t})}(e),I(),i("success")}finally{h({confirmLoading:!1})}}))}}}});j.render=function(e,t,r,a,o,n){const i=M("BasicForm"),l=M("BasicModal");return g(),b(l,h(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,onOk:e.handleSubmit}),{default:v((()=>[y(i,{onRegister:e.registerForm},null,8,["onRegister"])])),_:1},16,["onRegister","title","onOk"])};var q=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:j});export{x as C,O as D,q as M,j as _,I as c};
