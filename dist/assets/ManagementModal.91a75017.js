var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,n=(e,t,a)=>new Promise(((r,o)=>{var n=e=>{try{l(a.next(e))}catch(t){o(t)}},s=e=>{try{l(a.throw(e))}catch(t){o(t)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(n,s);l((a=a.apply(e,t)).next())}));import{_ as s,b as l}from"./useModal.dcdb6d0a.js";import{e as i}from"./BasicForm.a51bedc7.js";import{u as d}from"./useForm.192a42cf.js";import{a2 as c,bk as u,k as m,r as p,f,u as b,L as g,o as v,q as h,R as y,s as I,O as j}from"./vendor.c2cc062a.js";/* empty css              */import{U as M,A as O}from"./CcTradePair.a1851a32.js";const x=[{title:"ID",dataIndex:"id"},{title:"总算力",dataIndex:"ghs"},{title:"矿机名称",dataIndex:"mname"},{title:"矿机总价格",dataIndex:"price"},{title:"回报倍数",dataIndex:"rate"},{title:"矿机状态",dataIndex:"state",customRender:({record:e})=>{const t=e.state,a=1===t?"抢购中":0===t?"已下架":"待上架";return c(u,{color:1===t?"green":"red"},(()=>a))}}],F=[{field:"id",label:"ID",component:"Input",required:!1,show:!1},{field:"price",label:"矿机名称",component:"Input",required:!0},{field:"ghs",label:"矿机总价格",component:"Input",required:!0},{field:"rate",label:"回报倍数",component:"Input",required:!0},{field:"state",label:"交易对状态",component:"Select",required:!0,componentProps:{options:[{label:"已下架",value:0},{label:"抢购中",value:1},{label:"待上架",value:2}]}}];var P=m({name:"ManagementModal",components:{BasicModal:s,BasicForm:i},emits:["success","register"],setup(e,{emit:s}){const i=p(!0),[c,{setFieldsValue:u,updateSchema:m,resetFields:g,validate:v}]=d({labelWidth:140,schemas:F,showActionButtonGroup:!1,actionColOptions:{span:23}}),[h,{setModalProps:y,closeModal:I}]=l((e=>n(this,null,(function*(){g(),y({confirmLoading:!1}),i.value=!!(null==e?void 0:e.isUpdate),b(i)&&u(((e,n)=>{for(var s in n||(n={}))a.call(n,s)&&o(e,s,n[s]);if(t)for(var s of t(n))r.call(n,s)&&o(e,s,n[s]);return e})({},e.record))}))));return{registerModal:h,registerForm:c,getTitle:f((()=>b(i)?"编辑矿机":"新增矿机")),handleSubmit:function(){return n(this,null,(function*(){try{const e=yield v();y({confirmLoading:!0}),e.id?yield M(e):yield O(e),I(),s("success")}finally{y({confirmLoading:!1})}}))}}}});P.render=function(e,t,a,r,o,n){const s=g("BasicForm"),l=g("BasicModal");return v(),h(l,j(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,onOk:e.handleSubmit}),{default:y((()=>[I(s,{onRegister:e.registerForm},null,8,["onRegister"])])),_:1},16,["onRegister","title","onOk"])};var w=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:P});export{w as M,P as _,x as c};
