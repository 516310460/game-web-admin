var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,r=(t,o,s)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[o]=s,n=(e,t)=>{for(var o in t||(t={}))l.call(t,o)&&r(e,o,t[o]);if(s)for(var o of s(t))a.call(t,o)&&r(e,o,t[o]);return e},i=(e,s)=>t(e,o(s));import{k as c,f as u,L as p,o as d,q as f,W as g,S as b,O as h,R as w,Z as v,x as C,Y as m,c0 as k,s as y,bf as x,r as D,a6 as O,F as $,a3 as P,u as B,t as T,K as _,as as j,b3 as F,w as S,ai as L,B as H,$ as V,b2 as N}from"./vendor.c2cc062a.js";/* empty css              */import{d as A,p as I,c as R,am as M,N as W,ab as q,i as z,ay as E,ai as K,ae as Y,ax as Z}from"./index.da4646fd.js";const{t:G}=A(),J={confirmLoading:I.bool,showCancelBtn:I.bool.def(!0),cancelButtonProps:Object,cancelText:I.string.def(G("common.cancelText")),showOkBtn:I.bool.def(!0),okButtonProps:Object,okText:I.string.def(G("common.okText")),okType:I.string.def("primary"),showFooter:I.bool,footerHeight:{type:[String,Number],default:60}},Q=n({isDetail:I.bool,title:I.string.def(""),loadingText:I.string,showDetailBack:I.bool.def(!0),visible:I.bool,loading:I.bool,maskClosable:I.bool.def(!0),getContainer:{type:[Object,String]},scrollOptions:{type:Object,default:null},closeFunc:{type:[Function,Object],default:null},triggerWindowResize:I.bool,destroyOnClose:I.bool},J);var U=c({name:"BasicDrawerFooter",props:i(n({},J),{height:{type:String,default:"60px"}}),emits:["ok","close"],setup(e,{emit:t}){const{prefixCls:o}=R("basic-drawer-footer");return{handleOk:function(){t("ok")},prefixCls:o,handleClose:function(){t("close")},getStyle:u((()=>{const t=`${e.height}`;return{height:t,lineHeight:t}}))}}});U.render=function(e,t,o,s,l,a){const r=p("a-button");return e.showFooter||e.$slots.footer?(d(),f("div",{key:0,class:e.prefixCls,style:e.getStyle},[e.$slots.footer?b(e.$slots,"footer",{key:1}):(d(),f(g,{key:0},[b(e.$slots,"insertFooter"),e.showCancelBtn?(d(),f(r,h({key:0},e.cancelButtonProps,{onClick:e.handleClose,class:"mr-2"}),{default:w((()=>[v(C(e.cancelText),1)])),_:1},16,["onClick"])):m("",!0),b(e.$slots,"centerFooter"),e.showOkBtn?(d(),f(r,h({key:1,type:e.okType,onClick:e.handleOk},e.okButtonProps,{class:"mr-2",loading:e.confirmLoading}),{default:w((()=>[v(C(e.okText),1)])),_:1},16,["type","onClick","loading"])):m("",!0),b(e.$slots,"appendFooter")],64))],6)):m("",!0)};var X=c({name:"BasicDrawerHeader",components:{BasicTitle:M,ArrowLeftOutlined:k},props:{isDetail:I.bool,showDetailBack:I.bool,title:I.string},emits:["close"],setup(e,{emit:t}){const{prefixCls:o}=R("basic-drawer-header");return{prefixCls:o,handleClose:function(){t("close")}}}});const ee={key:1};X.render=function(e,t,o,s,l,a){const r=p("BasicTitle"),n=p("ArrowLeftOutlined");return e.isDetail?(d(),f("div",{key:1,class:[e.prefixCls,`${e.prefixCls}--detail`]},[y("span",{class:`${e.prefixCls}__twrap`},[e.showDetailBack?(d(),f("span",{key:0,onClick:t[1]||(t[1]=(...t)=>e.handleClose&&e.handleClose(...t))},[y(n,{class:`${e.prefixCls}__back`},null,8,["class"])])):m("",!0),e.title?(d(),f("span",ee,C(e.title),1)):m("",!0)],2),y("span",{class:`${e.prefixCls}__toolbar`},[b(e.$slots,"titleToolbar")],2)],2)):(d(),f(r,{key:0,class:e.prefixCls},{default:w((()=>[b(e.$slots,"title"),v(" "+C(e.$slots.title?"":e.title),1)])),_:3},8,["class"]))};var te=c({components:{Drawer:x,ScrollContainer:W,DrawerFooter:U,DrawerHeader:X},inheritAttrs:!1,props:Q,emits:["visible-change","ok","close","register"],setup(e,{emit:t}){const o=D(!1),s=q(),l=D(null),{t:a}=A(),{prefixVar:r,prefixCls:c}=R("basic-drawer"),p={setDrawerProps:function(e){l.value=E(B(l)||{},e),Reflect.has(e,"visible")&&(o.value=!!e.visible)},emitVisible:void 0},d=P();d&&t("register",p,d.uid);const f=u((()=>E(T(e),B(l)))),g=u((()=>{const e=i(n(n({placement:"right"},B(s)),B(f)),{visible:B(o)});e.title=void 0;const{isDetail:t,width:l,wrapClassName:a,getContainer:u}=e;if(t){l||(e.width="100%");const t=`${c}__detail`;e.wrapClassName=a?`${a} ${t}`:t,u||(e.getContainer=`.${r}-layout-content`)}return e})),b=u((()=>n(n({},s),B(g)))),h=u((()=>{const{footerHeight:e,showFooter:t}=B(g);return t&&e?K(e)?`${e}px`:`${e.replace("px","")}px`:"0px"})),w=u((()=>({position:"relative",height:`calc(100% - ${B(h)})`}))),v=u((()=>{var e;return!!(null==(e=B(g))?void 0:e.loading)}));return O((()=>{o.value=e.visible})),$((()=>o.value),(e=>{_((()=>{var o;t("visible-change",e),d&&(null==(o=p.emitVisible)||o.call(p,e,d.uid))}))})),{onClose:function(e){return s=this,l=null,a=function*(){const{closeFunc:s}=B(g);if(t("close",e),s&&z(s)){const e=yield s();o.value=!e}else o.value=!1},new Promise(((t,o)=>{var r=t=>{try{i(a.next(t))}catch(e){o(e)}},n=t=>{try{i(a.throw(t))}catch(e){o(e)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(r,n);i((a=a.apply(s,l)).next())}));var s,l,a},t:a,prefixCls:c,getMergeProps:f,getScrollContentStyle:w,getProps:g,getLoading:v,getBindValues:b,getFooterHeight:h,handleOk:function(){t("ok")}}}});te.render=function(e,t,o,s,l,a){const r=p("DrawerHeader"),n=p("ScrollContainer"),i=p("DrawerFooter"),c=p("Drawer"),u=j("loading");return d(),f(c,h({class:e.prefixCls,onClose:e.onClose},e.getBindValues),F({default:w((()=>[S(y(n,{style:e.getScrollContentStyle,"loading-tip":e.loadingText||e.t("common.loadingText")},{default:w((()=>[b(e.$slots,"default")])),_:3},8,["style","loading-tip"]),[[u,e.getLoading]]),y(i,h(e.getProps,{onClose:e.onClose,onOk:e.handleOk,height:e.getFooterHeight}),F({_:2},[L(Object.keys(e.$slots),(t=>({name:t,fn:w((o=>[b(e.$slots,t,o)]))})))]),1040,["onClose","onOk","height"])])),_:2},[e.$slots.title?{name:"title",fn:w((()=>[b(e.$slots,"title")]))}:{name:"title",fn:w((()=>[y(r,{title:e.getMergeProps.title,isDetail:e.isDetail,showDetailBack:e.showDetailBack,onClose:e.onClose},{titleToolbar:w((()=>[b(e.$slots,"titleToolbar")])),_:1},8,["title","isDetail","showDetailBack","onClose"])]))}]),1040,["class","onClose"])};const oe=H({}),se=H({});function le(){const e=D(null),t=D(!1),o=D("");const s=()=>{const t=B(e);return t||Z("useDrawer instance is undefined!"),t};return[function(s,l){V((()=>{e.value=null,t.value=null,oe[B(o)]=null})),B(t)&&Y()&&s===B(e)||(o.value=l,e.value=s,t.value=!0,s.emitVisible=(e,t)=>{se[t]=e})},{setDrawerProps:e=>{var t;null==(t=s())||t.setDrawerProps(e)},getVisible:u((()=>se[~~B(o)])),openDrawer:(e=!0,t,l=!0)=>{var a;if(null==(a=s())||a.setDrawerProps({visible:e}),!t)return;if(l)return oe[B(o)]=null,void(oe[B(o)]=T(t));N(T(oe[B(o)]),T(t))||(oe[B(o)]=T(t))}}]}const ae=e=>{const t=D(null),o=P(),s=D("");o||Z("useDrawerInner instance is undefined!");const l=()=>{const e=B(t);if(e)return e;Z("useDrawerInner instance is undefined!")};return O((()=>{const t=oe[B(s)];t&&e&&z(e)&&_((()=>{e(t)}))})),[(e,l)=>{V((()=>{t.value=null})),s.value=l,t.value=e,null==o||o.emit("register",e,l)},{changeLoading:(e=!0)=>{var t;null==(t=l())||t.setDrawerProps({loading:e})},changeOkLoading:(e=!0)=>{var t;null==(t=l())||t.setDrawerProps({confirmLoading:e})},getVisible:u((()=>se[~~B(s)])),closeDrawer:()=>{var e;null==(e=l())||e.setDrawerProps({visible:!1})},setDrawerProps:e=>{var t;null==(t=l())||t.setDrawerProps(e)}}]};export{te as _,ae as a,le as u};
