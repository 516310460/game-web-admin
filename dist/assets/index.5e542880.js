var e=(e,t,a)=>new Promise(((n,o)=>{var i=e=>{try{s(a.next(e))}catch(t){o(t)}},l=e=>{try{s(a.throw(e))}catch(t){o(t)}},s=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,l);s((a=a.apply(e,t)).next())}));import{_ as t}from"./TableImg.81397505.js";import{_ as a}from"./BasicForm.a51bedc7.js";import{u as n}from"./useTable.a70ad3d6.js";import{b as o,u as i}from"./system.15b652c9.js";import{_ as l}from"./PageWrapper.64ff3bf6.js";import s from"./DeptTree.3dcb3e83.js";import{u as r}from"./useModal.dcdb6d0a.js";import d from"./AccountModal.5f11fbc5.js";import{a2 as c,bk as u,k as m,r as p,L as f,o as b,q as j,R as x,s as v}from"./vendor.c2cc062a.js";/* empty css              *//* empty css              *//* empty css              */import"./useForm.192a42cf.js";import"./index.da4646fd.js";/* empty css              *//* empty css              */import"./uuid.2b29000c.js";import"./useWindowSizeFn.f7fa6c6d.js";import"./onMountedOrActivated.5a05012f.js";/* empty css              */import"./useSortable.5bfe8f76.js";import"./useExpose.9766eb76.js";/* empty css              *//* empty css              *//* empty css              */import"./CountdownInput.b63bed11.js";/* empty css              */import"./download.7e7a7b16.js";import"./StrengthMeter.f08b2a29.js";import"./usePageContext.85829ca5.js";/* empty css              *//* empty css              */import"./Tree.vue_vue&type=style&index=0&lang.7ff155fd.js";import"./useContextMenu.8fb9a305.js";const h=[{title:"ID",dataIndex:"id"},{title:"父级ID",dataIndex:"pid"},{title:"用户名",dataIndex:"userName"},{title:"角色名称",dataIndex:"nickName"},{title:"用户级别",dataIndex:"level",editRow:!0},{title:"矿机销售级别",dataIndex:"saleLevel",editRow:!0},{title:"助记词",dataIndex:"mnemonic"},{title:"状态",dataIndex:"state",customRender:({record:e})=>{const t="normal"==e.state?"green":"red",a="normal"==e.state?"正常":"locked"==e.state?"锁定":"暂停提币";return c(u,{color:t},(()=>a))}},{title:"创建时间",dataIndex:"createTime"}],g=[{field:"userName",label:"用户名",component:"Input",colProps:{span:8}}];var I=m({name:"AccountManagement",components:{BasicTable:t,PageWrapper:l,DeptTree:s,AccountModal:d,TableAction:a},setup(){const t=p(""),[a,{openModal:l}]=r(),[s,{reload:d}]=n({title:"用户列表",api:o,columns:h,formConfig:{labelWidth:80,schemas:g},showIndexColumn:!1,useSearchForm:!0,showTableSetting:!0,bordered:!0,actionColumn:{width:220,title:"操作",dataIndex:"action",slots:{customRender:"action"}}});function c(e){var a;t.value=e.key,null==(a=e.onEdit)||a.call(e,!0)}function u(e){var a;t.value="",null==(a=e.onEdit)||a.call(e,!1,!1)}function m(a){return e(this,null,(function*(){var e;(yield null==(e=a.onEdit)?void 0:e.call(a,!1,!0))&&(t.value="",yield i({id:a.id,level:a.level,saleLevel:a.saleLevel}))}))}function f(e,t){l(!0,{record:e,isUpdate:1!=t,type:t})}return{registerTable:s,registerModal:a,handleCreate:function(){l(!0,{isUpdate:!1})},handleEdit:c,handleDelete:function(t){return e(this,null,(function*(){}))},handleSuccess:function(){d()},handleSelect:function(e=""){d({searchInfo:{deptId:e}})},createActions:function(e,a){return e.editable?[{label:"保存",onClick:m.bind(null,e,a)},{label:"取消",popConfirm:{title:"是否取消编辑",confirm:u.bind(null,e,a)}}]:[{label:"编辑",disabled:!!t.value&&t.value!==e.key,onClick:c.bind(null,e)},{label:"查上级",disabled:!!t.value&&t.value!==e.key,onClick:f.bind(null,e,1)},{label:"查下级",disabled:!!t.value&&t.value!==e.key,onClick:f.bind(null,e,2)}]}}}});I.render=function(e,t,a,n,o,i){const l=f("TableAction"),s=f("BasicTable"),r=f("AccountModal"),d=f("PageWrapper");return b(),j(d,{dense:"",contentFullHeight:"",fixedHeight:"",contentClass:"flex"},{default:x((()=>[v(s,{onRegister:e.registerTable,class:"w-full xl:w-full"},{action:x((({record:t,column:a})=>[v(l,{actions:e.createActions(t,a)},null,8,["actions"])])),_:1},8,["onRegister"]),v(r,{onRegister:e.registerModal,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"])])),_:1})};export default I;
